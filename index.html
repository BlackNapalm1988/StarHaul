<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StarHaul — RTS-Lite Cargo Runner</title>
    <link rel="stylesheet" href="style.css" />

</head>
<body>
  <div class="wrap">
    <canvas id="game" width="960" height="600"></canvas>
    <div id="lifeBar"><div id="lifeFill"></div></div>

    <div id="hud">
      <div class="pill stat">$<span id="credits">0</span> · Fuel <span id="fuel">0</span> · Ammo <span id="ammo">0</span> · Cargo <span id="cargo">0</span>/<span id="cargoMax">0</span> · Hull <span id="hull">100</span>/<span id="hullMax">100</span> · Lives <span id="lives">3</span> · Rep <span id="rep">0</span></div>
      <div class="pill stat" id="missionPill" title="Mission Log (click)">Missions: <span id="missionCount">0</span></div>
      <div class="pill"><button class="btn" id="pauseBtn">Pause</button> <button class="btn" id="restartBtn">Restart</button></div>
    </div>

    <div id="missionLog">
      <h3>Mission Log</h3>
      <div class="list" id="missionLogList"></div>
      <div class="muted" style="font-size:12px">Tip: Higher <b>Reputation</b> unlocks better‑paying contracts.</div>
    </div>

    <div id="dockUI">
      <div class="dock" id="market">
        <h3>Station Market</h3>
        <div class="row">
          <span class="badge">⛽ Fuel $2/u</span>
          <span class="badge">🔫 Ammo $5/round</span>
          <span class="badge">🔧 Repairs $20/hull</span>
        </div>
        <div class="row">
          <button class="btn" data-buy="fuel">+50 Fuel</button>
          <button class="btn" data-buy="ammo">+10 Ammo</button>
          <button class="btn" data-buy="repair">Repair 10</button>
        </div>
        <h4>Upgrades</h4>
        <div class="list" id="upgrades"></div>
      </div>
      <div class="dock" id="missions">
        <h3>Contracts</h3>
        <div class="row"><button class="btn" id="setHomeBtn">Set Home</button></div>
        <div class="list" id="missionList"></div>
        <div class="row"><button class="btn" id="undockBtn">Undock (E)</button></div>
      </div>
    </div>

    <div id="radar"><canvas id="mini" width="300" height="300" aria-hidden="true"></canvas></div>
    <div id="toasts"></div>

    <div id="mapOverlay" class="overlay hidden">
      <canvas id="bigmap" width="800" height="600" aria-hidden="true"></canvas>
      <div id="mapKey" class="map-key">
        <div><span class="swatch" style="background:#8be"></span> Planet</div>
        <div><span class="swatch" style="background:#000"></span> Black Hole</div>
        <div><span class="swatch" style="background:#88f"></span> Rift</div>
        <div><span class="swatch" style="background:#44a"></span> Gravity Well</div>
        <div><span class="swatch" style="background:#ffd56b"></span> Star</div>
        <div><span class="swatch" style="background:#f44"></span> Pirate Base</div>
        <div><span class="swatch" style="background:#9bf"></span> Gate</div>
        <div><span class="swatch" style="background:#9cf"></span> Your Ship</div>
      </div>
    </div>

    <div id="touchpad" aria-hidden="true">
      <div class="pad" id="leftPad">
        <button class="tbtn" data-act="left"></button>
        <button class="tbtn" data-act="right"></button>
        <button class="tbtn" data-act="thrust"></button>
        <button class="tbtn" data-act="hyperspace"></button>
      </div>
      <button class="tbtn fire" id="fireBtn" data-act="fire"></button>
    </div>

    <div id="startScreen" class="overlay">
      <div class="panel">
        <img src="StarHauler_Startscreen.png" alt="StarHaul" class="start-image" />
        <p class="sub">RTS‑lite cargo runner. Explore a vast sector with planets, contracts, pirates, black holes — and deadly, evolving stars.</p>
        <div class="grid">
          <div>
            <strong>Controls</strong>
            <ul>
              <li><b>←/→</b> Rotate · <b>↑</b> Thrust</li>
              <li><b>Space</b> Fire (uses ammo)</li>
              <li><b>E</b> Dock/Undock · <b>F</b> Warp Gate</li>
              <li><b>Shift</b> Hyperspace · <b>P</b> Pause</li>
            </ul>
          </div>
          <div>
            <strong>Goal</strong>
            <ul>
              <li>Take <b>contracts</b>, deliver cargo, earn credits.</li>
              <li>Spend on fuel, ammo, repairs & upgrades (max Lv 4).</li>
              <li>Deliveries raise <b>Reputation</b> → higher-paying work.</li>
              <li>Avoid stars: collision is <b>instant game over</b>. Unstable stars may <b>supernova</b>.</li>
            </ul>
          </div>
        </div>
        <div class="actions">
          <button class="btn" id="newGameBtn">New Game</button>
          <button class="btn" id="viewScoresBtn">High Scores</button>
          <button class="btn" id="settingsBtn">Settings</button>
          <button class="btn" id="quitBtn">Quit</button>
        </div>
        <div id="leaderboard" class="hidden">
          <h3>Leaderboard</h3>
          <table>
            <thead><tr><th>#</th><th>Pilot</th><th>Credits</th><th>Rep</th><th>Date</th></tr></thead>
            <tbody id="scoresBody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="settingsScreen" class="overlay hidden">
      <div class="panel">
        <h2>Settings</h2>
        <div class="item">
          <label><input type="checkbox" id="debugToggle"> Debug mode (invincible)</label>
        </div>
        <div class="actions">
          <button class="btn" id="settingsBackBtn">Back</button>
        </div>
      </div>
    </div>

    <div id="pauseOverlay" class="overlay hidden">
      <div class="panel">
        <h1>PAUSED</h1>
        <div id="pauseStats" class="muted" style="margin-top:8px"></div>
        <div class="actions">
          <button class="btn" id="resumeBtn">Resume</button>
          <button class="btn" id="pauseRestartBtn">Restart</button>
          <button class="btn" id="toMenuBtn">Main Menu</button>
        </div>
      </div>
    </div>

    <div id="gameOver" class="overlay hidden">
      <div class="panel">
        <h1>GAME OVER</h1>
        <div class="muted" id="finalStats"></div>
        <div class="row" style="margin-top:10px;align-items:center;gap:8px">
          <label for="pilotName">Pilot</label>
          <input id="pilotName" placeholder="Enter name" style="flex:1;min-width:160px;padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);color:var(--fg)" />
          <button class="btn" id="saveScoreBtn">Save Score</button>
        </div>
        <div class="actions">
          <button class="btn" id="goMenuBtn">Return to Menu</button>
        </div>
      </div>
    </div>

  </div>

  <script src="main.js"></script>

</body>
</html>
