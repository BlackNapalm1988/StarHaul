:root{ --bg:#05070e; --fg:#e6edf3; --muted:#9aa5b1; --accent:#6df2d6; --accent2:#6db8f2; --warn:#ffd56b; --bad:#ff6b6b; --ok:#6bff9a; --danger:#ff9f6b }
    html,body{height:100%;margin:0;background:radial-gradient(1200px 800px at 70% 10%,#0e1430 0%,#0b0f1f 45%,#070a14 100%);color:var(--fg);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";overflow:hidden}
    .wrap{position:absolute;inset:0;padding:0}
    #game{width:100vw;height:100vh;max-width:none;max-height:none;background:linear-gradient(180deg, rgba(17,19,33,.8), rgba(6,8,16,.9));box-shadow:none;border-radius:0;outline:none}
    .hidden{display:none !important}
    #hud{position:absolute;top:10px;left:10px;right:10px;display:flex;gap:8px;align-items:center;justify-content:space-between;font-weight:700;user-select:none;pointer-events:none}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(12,15,28,.6);outline:1px solid rgba(255,255,255,.08);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);pointer-events:auto;box-shadow:0 0 0 1px rgba(109,242,214,.06) inset}
    .stat{display:inline-flex;gap:8px;align-items:center}
    .btn{appearance:none;border:0;cursor:pointer;padding:6px 10px;border-radius:10px;background:rgba(255,255,255,.08);color:var(--fg);font-weight:800}
    .btn:hover{background:rgba(255,255,255,.14)}
    .panel{width:min(880px,92vw);border-radius:18px;padding:18px 20px;background:rgba(10,14,22,.9);outline:1px solid rgba(255,255,255,.08);box-shadow:0 12px 40px rgba(0,0,0,.5)}
    h1{margin:0 0 6px;font-size:clamp(28px,3.4vw,42px);letter-spacing:.5px}
    .sub{margin:4px 0 10px;color:var(--muted)}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    ul{margin:8px 0 0 18px}
    #dockUI{position:absolute;bottom:14px;left:14px;right:14px;display:none;gap:10px;z-index:3}
    .dock{flex:1;display:flex;flex-direction:column;gap:8px;padding:12px;border-radius:14px;background:rgba(13,18,28,.92);outline:1px solid rgba(255,255,255,.08)}
    .dock h3{margin:0 0 4px}
    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .list{max-height:180px;overflow:auto;border-radius:8px;background:rgba(255,255,255,.03);padding:8px}
    .item{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:6px 8px;border-radius:8px}
    .item:nth-child(odd){background:rgba(255,255,255,.03)}
    .badge{padding:2px 6px;border-radius:999px;background:rgba(255,255,255,.08);font-size:12px}
    #missionPill{cursor:pointer}
    #radar{position:absolute;right:0;bottom:0;width:300px;height:300px;border-radius:50%;background:#0a0e16;display:grid;place-items:center;font-size:12px;z-index:2;overflow:hidden}
    #radar canvas{border-radius:50%}
    #mini{height:auto;}
    #touchpad{position:absolute;bottom:20px;left:20px;right:20px;display:none;justify-content:space-between;pointer-events:none}
    .pad{display:grid;grid-template-columns:repeat(2,68px);grid-template-rows:repeat(2,68px);gap:10px;pointer-events:auto}
    .tbtn{width:68px;height:68px;border-radius:16px;background:rgba(255,255,255,.06);outline:1px solid rgba(255,255,255,.12)}
    .fire{width:88px;height:88px;border-radius:999px;align-self:end}
    @media (max-width:820px){#touchpad{display:flex}.hide-mobile{display:none}}
    #missionLog{position:absolute;top:58px;right:10px;width:min(420px,92vw);display:none;gap:8px;padding:10px;border-radius:14px;background:rgba(13,18,28,.95);outline:1px solid rgba(255,255,255,.08);box-shadow:0 10px 30px rgba(0,0,0,.5);z-index:4}
    #missionLog h3{margin:0 0 6px}
    .muted{color:var(--muted)}
    #toasts{position:absolute;left:50%;top:20px;transform:translateX(-50%);display:flex;flex-direction:column;gap:8px;pointer-events:none;z-index:6}
    .toast{padding:8px 12px;border-radius:10px;background:rgba(20,28,44,.9);outline:1px solid rgba(255,255,255,.08);box-shadow:0 6px 18px rgba(0,0,0,.4)}
    .overlay{position:absolute;inset:0;display:grid;place-items:center;background:radial-gradient(900px 600px at 50% 30%,rgba(10,14,22,.55),rgba(7,10,16,.85));backdrop-filter:blur(2px);z-index:5}
    #mapKey{position:absolute;top:20px;left:20px;padding:8px 10px;border-radius:8px;background:rgba(0,0,0,.55);font-size:14px;line-height:1.4}
    #mapKey div{display:flex;align-items:center;gap:6px;margin-bottom:4px}
    #mapKey div:last-child{margin-bottom:0}
    #mapKey .swatch{width:12px;height:12px;border-radius:2px;display:inline-block}
    #startScreen .actions{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
    #startScreen img.start-image{width:100%;height:auto;}
    #leaderboard{margin-top:12px}
    #leaderboard table{width:100%;border-collapse:collapse}
    #leaderboard th,#leaderboard td{padding:6px 8px;text-align:left;border-bottom:1px solid rgba(255,255,255,.08)}
    #pauseOverlay .actions{display:flex;gap:8px;margin-top:10px}
    #gameOver .actions{display:flex;gap:8px;margin-top:10px}

    /* life bar */
    #lifeBar{position:absolute;left:0;right:0;top:0;height:8px;background:rgba(255,255,255,.08);z-index:2;}
    #lifeFill{height:100%;width:100%;background:var(--ok);}